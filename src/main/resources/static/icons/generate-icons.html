<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PWA ì•Œì•½ ì•„ì´ì½˜ ìƒì„±ê¸°</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .preview-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
        }
        .preview-item canvas {
            display: block;
            margin: 10px auto;
            border: 1px solid #ddd;
            border-radius: 10px;
        }
        .preview-item button {
            margin-top: 10px;
            padding: 8px 16px;
            background: #4A90E2;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .preview-item button:hover {
            background: #357ABD;
        }
        .instructions {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .download-all {
            text-align: center;
            margin: 30px 0;
        }
        .download-all button {
            padding: 15px 30px;
            font-size: 18px;
            background: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .download-all button:hover {
            background: #218838;
        }
    </style>
</head>
<body>
    <h1>ğŸ”® PWA ì•Œì•½ ì•„ì´ì½˜ ìƒì„±ê¸°</h1>

    <div class="instructions">
        <h3>ì‚¬ìš© ë°©ë²•</h3>
        <ol>
            <li>ì•„ë˜ ë¯¸ë¦¬ë³´ê¸°ì—ì„œ ê° ì•„ì´ì½˜ì„ í™•ì¸í•˜ì„¸ìš”</li>
            <li>ê°œë³„ ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ì„ í´ë¦­í•˜ê±°ë‚˜ "ëª¨ë“  ì•„ì´ì½˜ ë‹¤ìš´ë¡œë“œ" ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”</li>
            <li>ë‹¤ìš´ë¡œë“œí•œ PNG íŒŒì¼ë“¤ì„ <code>src/main/resources/static/icons/</code> í´ë”ì— ë³µì‚¬í•˜ì„¸ìš”</li>
        </ol>
    </div>

    <div class="download-all">
        <button onclick="downloadAllIcons()">ğŸ“¥ ëª¨ë“  ì•„ì´ì½˜ ë‹¤ìš´ë¡œë“œ</button>
    </div>

    <div class="preview-grid" id="iconGrid"></div>

    <script>
        const sizes = [72, 96, 128, 144, 152, 192, 384, 512];

        // ì•Œì•½ ëª¨ì–‘ ê·¸ë¦¬ê¸° í•¨ìˆ˜
        function drawPillIcon(canvas, size) {
            const ctx = canvas.getContext('2d');
            canvas.width = size;
            canvas.height = size;

            // ë°°ê²½ íˆ¬ëª…
            ctx.clearRect(0, 0, size, size);

            // ì•Œì•½ ìº¡ìŠ ê·¸ë¦¬ê¸°
            const centerX = size / 2;
            const centerY = size / 2;
            const pillWidth = size * 0.7;
            const pillHeight = size * 0.4;
            const radius = pillHeight / 2;

            // ê·¸ë¦¼ì
            ctx.shadowColor = 'rgba(0, 0, 0, 0.2)';
            ctx.shadowBlur = size * 0.05;
            ctx.shadowOffsetX = size * 0.02;
            ctx.shadowOffsetY = size * 0.02;

            // ìº¡ìŠ ë°°ê²½ (í°ìƒ‰ ë¶€ë¶„)
            ctx.fillStyle = '#FFFFFF';
            ctx.beginPath();
            ctx.arc(centerX - pillWidth/2 + radius, centerY, radius, Math.PI/2, Math.PI*3/2);
            ctx.arc(centerX + pillWidth/2 - radius, centerY, radius, -Math.PI/2, Math.PI/2);
            ctx.closePath();
            ctx.fill();

            // ê·¸ë¦¼ì ì œê±°
            ctx.shadowColor = 'transparent';

            // ìº¡ìŠ ì™¼ìª½ ì ˆë°˜ (íŒŒë€ìƒ‰)
            const gradient1 = ctx.createLinearGradient(
                centerX - pillWidth/2, centerY - radius,
                centerX - pillWidth/2, centerY + radius
            );
            gradient1.addColorStop(0, '#60A5FA');
            gradient1.addColorStop(1, '#3B82F6');

            ctx.fillStyle = gradient1;
            ctx.beginPath();
            ctx.arc(centerX - pillWidth/2 + radius, centerY, radius, Math.PI/2, Math.PI*3/2);
            ctx.lineTo(centerX, centerY - radius);
            ctx.lineTo(centerX, centerY + radius);
            ctx.closePath();
            ctx.fill();

            // ìº¡ìŠ ì˜¤ë¥¸ìª½ ì ˆë°˜ (ë¹¨ê°„ìƒ‰)
            const gradient2 = ctx.createLinearGradient(
                centerX + pillWidth/2, centerY - radius,
                centerX + pillWidth/2, centerY + radius
            );
            gradient2.addColorStop(0, '#F87171');
            gradient2.addColorStop(1, '#EF4444');

            ctx.fillStyle = gradient2;
            ctx.beginPath();
            ctx.arc(centerX + pillWidth/2 - radius, centerY, radius, -Math.PI/2, Math.PI/2);
            ctx.lineTo(centerX, centerY + radius);
            ctx.lineTo(centerX, centerY - radius);
            ctx.closePath();
            ctx.fill();

            // í…Œë‘ë¦¬
            ctx.strokeStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.lineWidth = size * 0.01;
            ctx.beginPath();
            ctx.arc(centerX - pillWidth/2 + radius, centerY, radius, Math.PI/2, Math.PI*3/2);
            ctx.arc(centerX + pillWidth/2 - radius, centerY, radius, -Math.PI/2, Math.PI/2);
            ctx.closePath();
            ctx.stroke();

            // ì¤‘ì•™ ë¶„í• ì„ 
            ctx.strokeStyle = 'rgba(0, 0, 0, 0.15)';
            ctx.lineWidth = size * 0.015;
            ctx.beginPath();
            ctx.moveTo(centerX, centerY - radius);
            ctx.lineTo(centerX, centerY + radius);
            ctx.stroke();

            // í•˜ì´ë¼ì´íŠ¸ íš¨ê³¼
            ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
            ctx.beginPath();
            ctx.ellipse(
                centerX - pillWidth/4, centerY - radius/3,
                pillWidth/3, radius/2.5,
                0, 0, Math.PI * 2
            );
            ctx.fill();
        }

        // ì•„ì´ì½˜ ìƒì„± ë° í‘œì‹œ
        function createIconPreviews() {
            const grid = document.getElementById('iconGrid');

            sizes.forEach(size => {
                const item = document.createElement('div');
                item.className = 'preview-item';

                const title = document.createElement('h3');
                title.textContent = `${size}Ã—${size}`;

                const canvas = document.createElement('canvas');
                drawPillIcon(canvas, size);

                const downloadBtn = document.createElement('button');
                downloadBtn.textContent = 'ë‹¤ìš´ë¡œë“œ';
                downloadBtn.onclick = () => downloadIcon(canvas, size);

                item.appendChild(title);
                item.appendChild(canvas);
                item.appendChild(downloadBtn);
                grid.appendChild(item);
            });
        }

        // ê°œë³„ ì•„ì´ì½˜ ë‹¤ìš´ë¡œë“œ
        function downloadIcon(canvas, size) {
            const link = document.createElement('a');
            link.download = `icon-${size}x${size}.png`;
            link.href = canvas.toDataURL('image/png');
            link.click();
        }

        // ëª¨ë“  ì•„ì´ì½˜ ë‹¤ìš´ë¡œë“œ
        function downloadAllIcons() {
            sizes.forEach((size, index) => {
                setTimeout(() => {
                    const canvas = document.createElement('canvas');
                    drawPillIcon(canvas, size);
                    downloadIcon(canvas, size);
                }, index * 300); // ê° ë‹¤ìš´ë¡œë“œ ì‚¬ì´ì— 300ms ì§€ì—°
            });
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì•„ì´ì½˜ ìƒì„±
        createIconPreviews();
    </script>
</body>
</html>
